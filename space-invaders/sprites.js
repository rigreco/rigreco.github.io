// ─── SPRITES (faithful to 1978 arcade ROM data + Boss sprites) ───

const SPRITES = {
  // Octopus (10pts) - 12x8
  invader1a: [
    '    0000    ',
    ' 0000000000 ',
    '000000000000',
    '000  00  000',
    '000000000000',
    '  000  000  ',
    ' 00  00  00 ',
    '00  0000  00'
  ],
  invader1b: [
    '    0000    ',
    ' 0000000000 ',
    '000000000000',
    '000  00  000',
    '000000000000',
    '   00  00   ',
    '  00 00 00  ',
    '00        00'
  ],
  // Squid (30pts) - 8x8
  invader2a: [
    '   00   ',
    '  0000  ',
    ' 000000 ',
    '00 00 00',
    '00000000',
    ' 0 00 0 ',
    '0      0',
    ' 0    0 '
  ],
  invader2b: [
    '   00   ',
    '  0000  ',
    ' 000000 ',
    '00 00 00',
    '00000000',
    '  0  0  ',
    ' 0 00 0 ',
    '0 0  0 0'
  ],
  // Crab (20pts) - 11x8
  invader3a: [
    '  0     0  ',
    '   0   0   ',
    '  0000000  ',
    ' 00 000 00 ',
    '00000000000',
    '0 0000000 0',
    '0 0     0 0',
    '   00 00   '
  ],
  invader3b: [
    '  0     0  ',
    '0  0   0  0',
    '0 0000000 0',
    '000 000 000',
    '00000000000',
    ' 00000000  ',
    '  0     0  ',
    ' 0       0 '
  ],
  // Player - 13x8
  player: [
    '      0      ',
    '     000     ',
    '     000     ',
    ' 00000000000 ',
    '0000000000000',
    '0000000000000',
    '0000000000000',
    '0000000000000'
  ],
  // Player explosion - 13x8
  playerExplosion: [
    '0    0 0    0',
    ' 0  00 0  0  ',
    '  0  000 0  0',
    '00 00   0 00 ',
    '   00 0 00   ',
    ' 00 0   0 00 ',
    '0 0  000  0 0',
    ' 0  0 0 0  0 '
  ],
  // UFO - 16x7
  ufo: [
    '     000000     ',
    '   0000000000   ',
    '  000000000000  ',
    ' 00 00 00 00 00 ',
    '0000000000000000',
    '  000  00  000  ',
    '   0        0   '
  ],
  explosion: [
    '0 0   0   0 0',
    '  0  0 0  0  ',
    ' 0  0   0  0 ',
    '0  0     0  0',
    ' 0  0   0  0 ',
    '  0  0 0  0  ',
    '0 0   0   0 0'
  ],

  // ─── BOSS: Signore dell'Abisso (Mid-Boss) - 24x16, mechanical monster ───
  midbossA: [
    '      0000000000      ',
    '    000000000000000   ',
    '   00 0000000000 00   ',
    '  0000000000000000000 ',
    ' 000 00 000000 00 000 ',
    ' 00000000000000000000 ',
    '000000 00000000 000000',
    '000 000  0000  000 000',
    '000  0000000000  0 000',
    ' 00 000000000000 00 0 ',
    ' 000 0000000000 000   ',
    '  00000 0000 00000    ',
    '   000  0  0  000     ',
    '    0  00  00  0      ',
    '   00 0      0 00     ',
    '  00 0        0 00    '
  ],
  midbossB: [
    '      0000000000      ',
    '    000000000000000   ',
    '   00 0000000000 00   ',
    '  0000000000000000000 ',
    ' 000 00 000000 00 000 ',
    ' 00000000000000000000 ',
    '000000 00000000 000000',
    '000 000  0000  000 000',
    '000  0000000000  0 000',
    ' 00 000000000000 00 0 ',
    ' 000 0000000000 000   ',
    '  00000 0000 00000    ',
    '   000  0  0  000     ',
    '   00  00  00  00     ',
    '  0  0        0  0    ',
    ' 00 0          0 00   '
  ],

  // ─── BOSS 2: Mostro Zuril (Mid-Boss 2) - 24x16, armored beast ───
  midboss2A: [
    '   00000000000000000   ',
    '  000000000000000000   ',
    ' 00000000000000000000  ',
    '0000  0000000000  0000 ',
    '000 00 00000000 00 000 ',
    '000 00 00000000 00 000 ',
    '0000  0000000000  0000 ',
    '00000000 0000 00000000 ',
    ' 0000  00000000  0000  ',
    ' 000 0000000000000000  ',
    '00000  00 00 00  00000 ',
    '0 000 0000000000 000 0 ',
    '0  00000 0000 00000  0 ',
    '    000 00  00 000     ',
    '   00  00    00  00    ',
    '  000 00      00 000   '
  ],
  midboss2B: [
    '   00000000000000000   ',
    '  000000000000000000   ',
    ' 00000000000000000000  ',
    '0000  0000000000  0000 ',
    '000 00 00000000 00 000 ',
    '000 00 00000000 00 000 ',
    '0000  0000000000  0000 ',
    '00000000 0000 00000000 ',
    ' 0000  00000000  0000  ',
    ' 000 0000000000000000  ',
    '00000  00 00 00  00000 ',
    '0 000 0000000000 000 0 ',
    '0  00000 0000 00000  0 ',
    '   0000 00  00 0000    ',
    '  0   00      00   0   ',
    ' 00  00        00  00  '
  ],

  // ─── BOSS: Astronave Madre (Mothership) - 48x24, expanded UFO ───
  mothershipA: [
    '                  000000000000                  ',
    '              0000000000000000000               ',
    '           0000000000000000000000000            ',
    '         000000000000000000000000000            ',
    '        00000 000 000 000 000 00000000          ',
    '       00000000000000000000000000000000         ',
    '      0000000000000000000000000000000000        ',
    '     000000 0000000000000000000 00000000        ',
    '    00000000000000000000000000000000000000       ',
    '   0000 0000000000000000000000000000 00000      ',
    '  000000000000000000000000000000000000000000     ',
    ' 00 00000000000000000000000000000000000000 00   ',
    '0000000000000000000000000000000000000000000000   ',
    ' 00 00000000000000000000000000000000000000 00   ',
    '  000000000000000000000000000000000000000000     ',
    '   0000 0000000000000000000000000000 00000      ',
    '    00000000 00000000000000000 0000000000        ',
    '     000  0000  000000  0000  000 0000          ',
    '      00    00  0 00 0  00    0000              ',
    '       0     0          0     0                 ',
    '      00     00        00     00                ',
    '     0  0   0  0      0  0   0  0               ',
    '    00   0 00   0    0   00 0   00              ',
    '   0      0      0  0      0      0             '
  ],
  mothershipB: [
    '                  000000000000                  ',
    '              0000000000000000000               ',
    '           0000000000000000000000000            ',
    '         000000000000000000000000000            ',
    '        00000 000 000 000 000 00000000          ',
    '       00000000000000000000000000000000         ',
    '      0000000000000000000000000000000000        ',
    '     000000 0000000000000000000 00000000        ',
    '    00000000000000000000000000000000000000       ',
    '   0000 0000000000000000000000000000 00000      ',
    '  000000000000000000000000000000000000000000     ',
    ' 00 00000000000000000000000000000000000000 00   ',
    '0000000000000000000000000000000000000000000000   ',
    ' 00 00000000000000000000000000000000000000 00   ',
    '  000000000000000000000000000000000000000000     ',
    '   0000 0000000000000000000000000000 00000      ',
    '    00000000 00000000000000000 0000000000        ',
    '     000  0000  000000  0000  000 0000          ',
    '      00    00  0 00 0  00    0000              ',
    '       0     0          0     0                 ',
    '     0  0     0        0     0  0               ',
    '    0    0   0  0    0  0   0    0              ',
    '   00     0 0    0  0    0 0     00             ',
    '  0        0      00      0        0            '
  ],

  // Power-up sprites (7x7)
  powerupSpeed: [
    '  000  ',
    ' 00000 ',
    '000 000',
    '0000000',
    '000 000',
    ' 00000 ',
    '  000  '
  ],
  powerupDouble: [
    ' 0   0 ',
    ' 0   0 ',
    ' 0   0 ',
    ' 0   0 ',
    ' 0   0 ',
    '000 000',
    ' 0   0 '
  ],
  powerupShield: [
    '  000  ',
    ' 00000 ',
    '0000000',
    '0000000',
    '0000000',
    ' 00000 ',
    '  000  '
  ],

  // Shield for boss (small shield icon for boss shield phase)
  bossShield: [
    '  00000000000000000000  ',
    ' 0000000000000000000000 ',
    '000000000000000000000000',
    '000000000000000000000000',
    ' 0000000000000000000000 ',
    '  00000000000000000000  '
  ]
};

// ─── SPRITE DRAWING ───
function drawSprite(sprite, x, y, color) {
  color = color || COLOR_WHITE;
  ctx.fillStyle = color;
  for (let r = 0; r < sprite.length; r++) {
    for (let c = 0; c < sprite[r].length; c++) {
      if (sprite[r][c] === '0') {
        ctx.fillRect(x + c, y + r, 1, 1);
      }
    }
  }
}

// ─── SPRITE DIMENSIONS ───
function getInvaderSize(type) {
  if (type === 1) return { w: 12, h: 8 };  // Octopus
  if (type === 2) return { w: 8, h: 8 };   // Squid
  return { w: 11, h: 8 };                   // Crab
}

function getBossSize(type) {
  if (type === 'mothership') return { w: 48, h: 24 };
  return { w: 24, h: 16 };  // midboss / midboss2
}
